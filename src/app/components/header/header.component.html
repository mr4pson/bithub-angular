<header>
  <div class="h-left">
    <div class="hl-mmbtn" (click)="onTogglePanel('Mob', $event)">
      <span></span>
    </div>
    <div class="hl-logo">
      <a routerLink="/{{ lang.slug }}"
        ><img src="/assets/images/logo.svg" alt="logo"
      /></a>
    </div>
    <div class="hl-lang">
      <span
        class="hll-btn"
        [class.active]="panelLangsActive"
        (click)="onTogglePanel('Langs', $event)"
        >{{ lang.slug }}</span
      >
      <panel-langs [(active)]="panelLangsActive"></panel-langs>
    </div>
    <div class="hl-links">
      <a target="_blank" [href]="words['contacts']?.['yt']?.[lang.slug]"
        ><img src="/assets/images/yt_opaque.svg"
      /></a>
      <a target="_blank" [href]="words['contacts']?.['tg']?.[lang.slug]"
        ><img src="/assets/images/tg_opaque.svg"
      /></a>
      <a
        target="_blank"
        class="tw hl-link"
        [href]="words['contacts']?.['tw']?.[lang.slug]"
      ></a>
      <a
        class="mail"
        href="mailto:{{words['contacts']?.['mail']?.[lang.slug]}}"
      ></a>
    </div>
  </div>
  <div class="h-right">
    <ng-container *ngIf="!authenticated">
      <button
        type="button"
        class="hr-btn btn gold"
        (click)="popupLoginActive = true"
      >
        <span class="btn-icon login"></span
        ><span
          class="btn-text"
          >{{words["login"]?.["title"]?.[lang.slug]}}</span
        >
      </button>
    </ng-container>
    <ng-container *ngIf="user">
      <div class="hr-dash">
        <div class="hrd-btnwrap">
          <div
            class="hrd-btn hrd-favorites"
            style="width: 25px; margin-top: 5px"
            (click)="handleSubscriptionToggle()"
          >
            <svg
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              style="width: 100%; stroke-width: 1.5px"
            >
              <path
                d="M5 16C8.09524 15.5357 18.1857 12.2857 26.3571 3M26.3571 3H21.7143M26.3571 3V7.64286M22.6429 29H25.4286C25.9414 29 26.3571 28.5843 26.3571 28.0714V12.2857C26.3571 11.7729 25.9414 11.3571 25.4286 11.3571H22.6429C22.13 11.3571 21.7143 11.7729 21.7143 12.2857V28.0714C21.7143 28.5843 22.13 29 22.6429 29ZM15.2143 29H18C18.5128 29 18.9286 28.5843 18.9286 28.0714V18.7857C18.9286 18.2729 18.5128 17.8571 18 17.8571H15.2143C14.7015 17.8571 14.2857 18.2729 14.2857 18.7857V28.0714C14.2857 28.5843 14.7015 29 15.2143 29ZM7.78571 29H10.5714C11.0843 29 11.5 28.5843 11.5 28.0714V22.5C11.5 21.9872 11.0843 21.5714 10.5714 21.5714H7.78571C7.27288 21.5714 6.85714 21.9872 6.85714 22.5V28.0714C6.85714 28.5843 7.27288 29 7.78571 29Z"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                _ngcontent-ng-c2132949282=""
              ></path>
            </svg>
          </div>
        </div>
        <div class="hrd-btnwrap">
          <div
            class="hrd-btn hrd-favorites"
            [class.active]="panelFavoritesActive"
            (click)="onTogglePanel('Favorites', $event)"
          >
            <span></span>
          </div>
          <panel-favorites [(active)]="panelFavoritesActive"></panel-favorites>
        </div>
        <div class="hrd-btnwrap">
          <btn-unviewed
            [active]="panelUnviewedActive"
            (click)="onTogglePanel('Unviewed', $event)"
          ></btn-unviewed>
          <panel-unviewed [(active)]="panelUnviewedActive"></panel-unviewed>
        </div>
        <div class="hrd-btnwrap">
          <div
            class="hrd-btn hrd-cart"
            [class.active]="panelCartActive"
            (click)="onTogglePanel('Cart', $event)"
          >
            <span></span>
          </div>
          <panel-cart [(active)]="panelCartActive"></panel-cart>
        </div>
        <div class="hrd-money" *ngIf="!user.parent_id">
          <div
            class="hrd-amount"
            [class.active]="panelInorderActive"
            (click)="onTogglePanel('Inorder', $event)"
          >
            <span>${{ user.money | number : "1.2-2" }}</span>
          </div>
          <panel-inorder [(active)]="panelInorderActive"></panel-inorder>
        </div>
      </div>
      <div class="hr-ava" [class.active]="panelAccountActive">
        <div class="hra-img" (click)="onTogglePanel('Account', $event)">
          <img *ngIf="user.img" src="/images/users/{{ user.img }}" />
          <span *ngIf="!user.img">{{user.name?.[0]}}</span>
        </div>
        <panel-account [(active)]="panelAccountActive"></panel-account>
      </div>
    </ng-container>
  </div>
  <div class="h-center">
    <nav><menu-main></menu-main></nav>
    <div class="hc-logo" *ngIf="!authenticated">
      <a routerLink="/{{ lang.slug }}"
        ><img src="/assets/images/logo.svg" alt="logo"
      /></a>
    </div>
  </div>
</header>

<panel-mob [(active)]="panelMobActive"></panel-mob>
